language: python
python:
    - 3.6
install:
    - pip install boto3
    - pip install utils
    - pip install moto
    - pip install coverage
branches:
    only:
        - master
        - develop

addons:
    sonarcloud:
        organization: "usdot-jpo-sdc"

before_script:
  - npm install -g @angular/cli

script:
    - coverage erase
    - ng test --watch=false --browsers=ChromeHeadless
    - sonar-scanner -X -D sonar.login=$SONAR_TOKEN
