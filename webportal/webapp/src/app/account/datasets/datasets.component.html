<div class="container">
    <mat-card>
     <div class="row">
        <div class="col-md-12">
          <!--My Datasets table-->
          <mat-expansion-panel style="margin-top: 40px;" [expanded]="true">
            <mat-expansion-panel-header>
              <mat-panel-title>
                My Datasets / Algorithm
              </mat-panel-title>
            </mat-expansion-panel-header>
            <div *ngIf="!myDatasets">No Data Available</div>
            <span style="color:grey">This section displays the list of datasets / algorithms that are uploaded by you to the SDC system. They
              are not available to anyone else unless you publish the dataset. <a [routerLink]="['/account/faq']" fragment="datasetPublish">Learn more </a> on how to upload your
              datasets / algorithms and publish them for other users.
            </span><hr>
            <table class="table" *ngIf="myDatasets">
              <thead class="thead-inverse">
              <tr>
                <th>Dataset / Algorithm Name</th>
                <th>Publish</th>
              </tr>
              </thead>
              <tbody>
              <ng-template ngFor let-myDataset [ngForOf]="myDatasets">
                <tr>
                  <td>{{myDataset}}</td>
                  <td><i class="material-icons iconFont" (click)="requestMail('','Dataset publish Mail', myDataset)">backup</i></td>
                </tr>
              </ng-template>
              </tbody>
            </table>
          </mat-expansion-panel>

          <!--Curated Datasets table-->
          <mat-expansion-panel style="margin-top: 40px;">
            <mat-expansion-panel-header>
              <mat-panel-title>
                SDC Datasets
              </mat-panel-title>
            </mat-expansion-panel-header>
            <span style="color: grey">These are datasets that are available within SDC platform that are published / enabled by SDC team or
              published by other users. Access to these datasets are available upon request. <a [routerLink]="['/account/faq']" fragment="sdcDataset">Learn more </a> about the
              different types of datasets and how to request access to these datasets.
            </span><hr>
            <table class="table">
              <thead class="thead-inverse">
              <tr>
                <th>Name</th>
                <th>Type</th>
                <th>Description</th>
                <th>Programming tools / language</th>
                <th>Geographic Scope</th>
                <th>Start / End for Data Availability</th>
                <th>Request Access</th>
              </tr>
              </thead>
              <tbody>
              <ng-template ngFor let-sdcDataset [ngForOf]="sdcDatasets">
                <tr style="cursor: pointer" (click)="selectsdcDataset(sdcDataset)" [ngClass]="{'selected_row' : selectedsdcDataset == sdcDataset}">
                  <td>{{sdcDataset.Name}}</td>
                  <td>{{sdcDataset.Type}}</td>
                  <td>{{sdcDataset.Description}}</td>
                  <td>
                    <div *ngIf="sdcDataset.Programming_tool">{{sdcDataset.Programming_tool}}</div>
                    <div *ngIf="!sdcDataset.Programming_tool">-----</div>
                  </td>
                  <td>
                    <div *ngIf="sdcDataset.Geographic_Scope">{{sdcDataset.Geographic_Scope}}</div>
                    <div *ngIf="!sdcDataset.Geographic_Scope">-----</div>
                  </td>
                  <td>
                    <div *ngIf="sdcDataset.Data_Availability_Span">{{sdcDataset.Data_Availability_Span}}</div>
                    <div *ngIf="!sdcDataset.Data_Availability_Span">-----</div>
                  </td>
                  <td><button class="btn btn-primary dotBtn" (click)="requestMail(sdcDataset.BucketName, 'Access Request Mail', '')">Request</button></td>
                </tr>
              </ng-template>
              </tbody>
            </table>
          </mat-expansion-panel>

        <!--data dictionary card-->
        <mat-card *ngIf="showDictionary" style="margin-top: 25px;max-height: 500px">
            <mat-card-title> {{selectedsdcDataset.DatasetCode}} {{selectedsdcDataset.DatasetType}} Data Dictionary</mat-card-title><hr>
            <mat-card-content style="max-height: 400px;overflow: scroll">
                <markdown [data]="dictionary"></markdown>
            </mat-card-content>
        </mat-card>

        </div>
      </div>
    </mat-card>
</div>